(()=>{"use strict";var e="./";const t=e+"assets/audio/doorknob.mp3",o=e+"assets/audio/doorOpening.mp3",n=e+"assets/image/door.jpg",s=e+"assets/image/doorknob.png";document.addEventListener("DOMContentLoaded",()=>{document.querySelector("body").style.backgroundImage=`url(${n})`;const e=document.querySelector(".doorknob");e&&(e.src=s)});const a=document.querySelector(".overlay");window.addEventListener("DOMContentLoaded",()=>{a.classList.contains("fade-out")&&a.classList.remove("fade-out"),a.classList.add("fade-in")}),window.addEventListener("beforeunload",()=>{a.classList.remove("fade-in"),a.classList.add("fade-out")});const d=document.querySelector(".doorknob"),i=document.querySelector(".popup");d.addEventListener("click",e=>{e.stopPropagation(),d.classList.add("rotate"),i.classList.add("show"),u.play()}),d.addEventListener("animationend",()=>{d.classList.remove("rotate")});const r=document.getElementById("passwordInput"),c=document.getElementById("submitBtn"),l=document.querySelector(".warning"),u=new Audio(t),m=new Audio(o);c.addEventListener("click",()=>{""===r.value?l.innerHTML="请输入密码":"20230310"!==r.value?l.innerHTML="密码错误":(m.play(),l.innerHTML=" ",a.classList.remove("fade-in"),a.classList.add("fade-out"),setTimeout(()=>{window.location.href="./room.html"},3e3))}),document.addEventListener("click",e=>{const t=i.contains(e.target);i.classList.contains("show")&&!t&&(i.classList.remove("show"),l.innerHTML="",r.value="")}),i.addEventListener("click",e=>{e.stopPropagation()})})();